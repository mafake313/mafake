<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024 美洲杯淘汰赛预测</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .match {
            margin-bottom: 20px;
            border: 1px solid #ccc;
            padding: 10px;
        }
        .team-select {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            cursor: pointer;
        }
        .team-select label {
            font-weight: bold;
        }
        .team-select .team {
            width: 70%;
            padding: 5px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .team-select .team.selected {
            background-color: #007bff;
            color: white;
        }
        .submit-btn {
            display: block;
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
        }
        .submit-btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>2024 美洲杯淘汰赛预测</h1>

    <div class="match" id="quarterfinals">
        <h2>八强预测</h2>
        <div class="team-select" id="quarterfinals_match1">
            <label for="quarterfinals_team1">对阵：</label>
            <select id="quarterfinals_team1">
                <!-- 这里将根据本地存储中的数据动态生成选项 -->
            </select>
        </div>
        <!-- 可以添加更多八强赛的对阵 -->
    </div>

    <div class="match" id="semifinals">
        <h2>四强预测</h2>
        <div class="team-select" id="semifinals_match1">
            <label for="semifinals_team1">对阵：</label>
            <select id="semifinals_team1">
                <!-- 这里将根据本地存储中的数据动态生成选项 -->
            </select>
        </div>
        <!-- 可以添加更多四强赛的对阵 -->
    </div>

    <div class="match" id="final">
        <h2>决赛预测</h2>
        <div class="team-select" id="final_match1">
            <label for="final_team1">对阵：</label>
            <select id="final_team1">
                <!-- 这里将根据本地存储中的数据动态生成选项 -->
            </select>
        </div>
    </div>

    <!-- 显示晋级关系的视觉图表 -->
    <div class="bracket">
        <h2>晋级关系</h2>
        <div class="round">
            <h3>八强</h3>
            <div class="matchup" id="bracket_quarterfinals">
                <!-- 这里将根据本地存储中的数据动态生成对阵信息 -->
            </div>
        </div>
        <div class="round">
            <h3>四强</h3>
            <div class="matchup" id="bracket_semifinals">
                <!-- 这里将根据本地存储中的数据动态生成对阵信息 -->
            </div>
        </div>
        <div class="round">
            <h3>决赛</h3>
            <div class="matchup" id="bracket_final">
                <!-- 这里将根据本地存储中的数据动态生成对阵信息 -->
            </div>
        </div>
    </div>

    <script>
        // 从本地存储中获取小组赛阶段的选择数据
        var groupStageSelection = JSON.parse(localStorage.getItem('groupStageSelection'));

        // 存储淘汰赛阶段的预测
        var knockoutPredictions = {
            'quarterfinals': {},
            'semifinals': {},
            'final': {}
        };

        // 初始化页面时生成选项和晋级关系
        document.addEventListener('DOMContentLoaded', function() {
            generateMatchOptions('quarterfinals_team1', 'quarterfinals_match1', ['groupA_team1', 'groupB_team4']);
            generateMatchOptions('semifinals_team1', 'semifinals_match1', ['winnerQF1', 'winnerQF2']);
            generateMatchOptions('final_team1', 'final_match1', ['winnerSF1']);

            updateBracketView();
        });

        // 生成对阵选项
        function generateMatchOptions(selectId, matchDivId, teams) {
            var select = document.getElementById(selectId);
            select.innerHTML = '';
            teams.forEach(function(teamId) {
                var teamName = document.getElementById(teamId).textContent;
                var option = document.createElement('option');
                option.value = teamName;
                option.textContent = teamName;
                select.appendChild(option);
            });

            var matchDiv = document.getElementById(matchDivId);
            matchDiv.querySelector('label').textContent = '对阵：';
        }

        // 更新晋级关系视图
        function updateBracketView() {
            document.getElementById('bracket_quarterfinals').innerHTML = `
                <p>${groupStageSelection.groupA_team1}</p>
                <p>vs</p>
                <p>${groupStageSelection.groupB_team4}</p>
            `;
            document.getElementById('bracket_semifinals').innerHTML = `
                <p>八强赛1胜者</p>
                <p>vs</p>
                <p>八强赛2胜者</p>
            `;
            document.getElementById('bracket_final').innerHTML = `
                <p>四强赛1胜者</p>
                <p>vs</p>
                <p>四强赛2胜者</p>
            `;
        }
    </script>
</body>
</html>
